<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mi Perfil</title>
    <link rel="stylesheet" href="assets/miperfil.css" />
    <link rel="stylesheet" href="assets/style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header class="header">
      <div class="nav-container">
        <div class="logo">
          <i class="fas fa-graduation-cap"></i>
          ¬øQui√©n Sabe?
        </div>
        <nav>
          <ul class="nav-menu">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="index.html#preguntas">Preguntas</a></li>
            <li><a href="index.html#ranking">Ranking</a></li>
            <li><a href="miperfil.html">Mi Perfil</a></li>
          </ul>
        </nav>
        <div class="user-actions">
          <ul>
            <li><a href="login.html">Iniciar Sesi√≥n</a></li>
          </ul>
          <button class="btn-secondary" id="login-btn">Iniciar Sesi√≥n</button>
          <button class="btn-primary" id="register-btn">Registrarse</button>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="profile-section">
        <div class="profile-card">
          <div class="avatar-section">
            <img
              id="avatar"
              src="data:image/svg+xml;base64,..."
              alt="Avatar"
              class="avatar"
            />
            <input
              type="file"
              id="avatarInput"
              accept="image/*"
              style="display: none"
            />
            <button
              class="upload-btn"
              onclick="document.getElementById('avatarInput').click()"
            >
              üì∏ Cambiar Foto
            </button>
          </div>

          <div class="profile-info" id="profileInfo">
            <h3 id="displayName">Usuario Ejemplo</h3>
            <p class="user-title" id="displayTitle">Novato Curioso</p>
            <p id="displayEmail">usuario@ejemplo.com</p>
            <p id="displayBio">
              ¬°Hola! Soy un usuario activo en esta plataforma.
            </p>
            <button class="btn-primary" onclick="toggleEditMode()">
              ‚úèÔ∏è Editar Perfil
            </button>
          </div>

          <form class="edit-form hidden" id="editForm">
            <div class="form-group">
              <label>Nombre</label>
              <input type="text" id="editName" value="Usuario Ejemplo" />
            </div>
            <div class="form-group">
              <label>T√≠tulo</label>
              <select id="editTitle">
                <option value="Novato Curioso">Novato Curioso</option>
                <option value="Aprendiz Veloz">Aprendiz Veloz</option>
                <option value="Maestro de Trivia">Maestro de Trivia</option>
                <option value="Sabelotodo">Sabelotodo</option>
              </select>
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="editEmail" value="usuario@ejemplo.com" />
            </div>
            <div class="form-group">
              <label>Biograf√≠a</label>
              <textarea id="editBio" rows="3">
¬°Hola! Soy un usuario activo.</textarea
              >
            </div>
            <button id="save-profile-btn" class="btn-primary">
              üíæ Guardar
            </button>
            <button
              type="button"
              class="btn-primary"
              onclick="cancelEdit()"
              style="background: #ff6b6b; margin-top: 10px"
            >
              ‚ùå Cancelar
            </button>
          </form>
        </div>

        <div class="main-content">
          <nav class="profile-tabs">
            <button class="tab-link active" data-tab="resumen">Resumen</button>
            <button class="tab-link" data-tab="estadisticas">
              Estad√≠sticas
            </button>
            <button class="tab-link" data-tab="misiones">Misiones</button>
            <button class="tab-link" data-tab="configuracion">
              Configuraci√≥n
            </button>
          </nav>

          <div id="tab-resumen" class="tab-content active">
            <div class="profile-card level-section">
              <h3>Nivel y Progreso</h3>
              <div class="level-info">
                Nivel <span class="level-number" id="userLevel">15</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
              </div>
              <p class="progress-text" id="progressText">
                750 / 1000 XP para el siguiente nivel
              </p>
            </div>
            <div class="profile-card streak-section">
              <h4>üî• Racha de Conexi√≥n (√∫ltimos 7 d√≠as)</h4>
              <div class="streak-visualizer" id="streakVisualizer"></div>
            </div>
            <div class="profile-card">
              <h3>üèÜ Insignias</h3>
              <div class="badges-grid" id="badgesGrid"></div>
            </div>
          </div>

          <div id="tab-estadisticas" class="tab-content">
            <div class="profile-card">
              <h3>üìä Estad√≠sticas de Rendimiento</h3>
              <div class="stats-grid detailed-stats">
                <div class="stat-card">
                  <div class="stat-number" id="totalXP">15,750</div>
                  <div class="stat-label">XP Total</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number" id="questionsAnswered">521</div>
                  <div class="stat-label">Preguntas Respondidas</div>
                </div>
                <div class="stat-card">
                  <div class="stat-number" id="accuracyRate">82%</div>
                  <div class="stat-label">Tasa de Aciertos</div>
                </div>

                <div class="stat-card icon-stat">
                  <i class="fas fa-fire"></i>
                  <div class="stat-number" id="bestStreak">23</div>
                  <div class="stat-label">Mejor Racha</div>
                </div>
                <div class="stat-card icon-stat">
                  <i class="fas fa-stopwatch"></i>
                  <div class="stat-number" id="avgTime">5.2s</div>
                  <div class="stat-label">Tiempo Promedio</div>
                </div>
                <div class="stat-card icon-stat">
                  <i class="fas fa-star"></i>
                  <div class="stat-number" id="favoriteCategory">Ciencia</div>
                  <div class="stat-label">Categor√≠a Favorita</div>
                </div>
              </div>
              <div class="chart-container">
                <h4>Rendimiento por Categor√≠a</h4>
                <canvas id="performanceChart"></canvas>
              </div>
            </div>
          </div>

          <div id="tab-misiones" class="tab-content">
            <div class="profile-card">
              <h3>üéØ Misiones y Hitos</h3>
              <div id="missionsContainer"></div>
            </div>
          </div>

          <div id="tab-configuracion" class="tab-content">
            <div class="profile-card">
              <h3>‚öôÔ∏è Configuraci√≥n de la Cuenta</h3>

              <div class="settings-section">
                <h4>üé® Apariencia</h4>
                <div class="setting-item">
                  <label for="theme-toggle">Modo Oscuro</label>
                  <button id="theme-toggle" class="btn-secondary">
                    <i class="fas fa-moon"></i> Activar Modo Oscuro
                  </button>
                </div>
              </div>

              <div class="settings-section">
                <h4>üîî Notificaciones</h4>
                <div class="setting-item">
                  <label for="email-notifications"
                    >Notificaciones por correo</label
                  >
                  <label class="switch">
                    <input type="checkbox" id="email-notifications" checked />
                    <span class="slider round"></span>
                  </label>
                </div>
                <div class="setting-item">
                  <label for="push-notifications">Notificaciones push</label>
                  <label class="switch">
                    <input type="checkbox" id="push-notifications" />
                    <span class="slider round"></span>
                  </label>
                </div>
              </div>

              <div class="settings-section">
                <h4>üîí Cuenta y Seguridad</h4>
                <div class="setting-item">
                  <button class="btn-secondary full-width">
                    <i class="fas fa-key"></i> Cambiar Contrase√±a
                  </button>
                </div>
                <div class="setting-item">
                  <button class="btn-danger full-width">
                    <i class="fas fa-trash-alt"></i> Eliminar Cuenta
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="miperfil.js"></script>
    <script src="app.js"></script>
    <script src="responder-logic.js"></script>
  </body>
</html>
