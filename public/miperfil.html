<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mi Perfil</title>
    <link rel="stylesheet" href="assets/miperfil.css" />
    <link rel="stylesheet" href="assets/style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="nav-container">
        <div class="logo">
          <i class="fas fa-graduation-cap"></i>
          ¿Quién Sabe?
        </div>
        <nav>
          <ul class="nav-menu">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="index.html#preguntas">Preguntas</a></li>
            <li><a href="index.html#ranking">Ranking</a></li>
            <li><a href="index.html">Mi Perfil</a></li>
          </ul>
        </nav>
        <div class="user-actions">
          <ul>
            <li><a href="login.html">Iniciar Sesión</a></li>
          </ul>
          <button class="btn-secondary" id="login-btn">Iniciar Sesión</button>
          <button class="btn-primary" id="register-btn">Registrarse</button>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="header">
        <h1>Mi Perfil</h1>
        <p>Gestiona tu información personal y logros</p>
      </div>

      <div class="profile-section">
        <!-- Sección Avatar y Info Básica -->
        <div class="profile-card">
          <div class="avatar-section">
            <img
              id="avatar"
              src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjYwIiBjeT0iNjAiIHI9IjYwIiBmaWxsPSIjZTBlMGUwIi8+CjxjaXJjbGUgY3g9IjYwIiBjeT0iNDUiIHI9IjIwIiBmaWxsPSIjYjBiMGIwIi8+CjxlbGxpcHNlIGN4PSI2MCIgY3k9IjEwMCIgcng9IjMwIiByeT0iMjAiIGZpbGw9IiNiMGIwYjAiLz4KPC9zdmc+"
              alt="Avatar"
              class="avatar"
            />
            <input
              type="file"
              id="avatarInput"
              accept="image/*"
              style="display: none"
            />
            <button
              class="upload-btn"
              onclick="document.getElementById('avatarInput').click()"
            >
              📸 Cambiar Foto
            </button>
          </div>

          <div class="profile-info" id="profileInfo">
            <h3 id="displayName">Usuario Ejemplo</h3>
            <p id="displayEmail">usuario@ejemplo.com</p>
            <p id="displayBio">
              ¡Hola! Soy un usuario activo en esta plataforma.
            </p>
            <button class="btn-primary" onclick="toggleEditMode()">
              ✏️ Editar Perfil
            </button>
          </div>

          <div class="edit-form hidden" id="editForm">
            <div class="form-group">
              <label>Foto de Perfil</label>
              <div class="edit-avatar-section">
                <img
                  id="editAvatar"
                  src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxjaXJjbGUgY3g9IjYwIiBjeT0iNjAiIHI9IjYwIiBmaWxsPSIjZTBlMGUwIi8+CjxjaXJjbGUgY3g9IjYwIiBjeT0iNDUiIHI9IjIwIiBmaWxsPSIjYjBiMGIwIi8+CjxlbGxpcHNlIGN4PSI2MCIgY3k9IjEwMCIgcng9IjMwIiByeT0iMjAiIGZpbGw9IiNiMGIwYjAiLz4KPC9zdmc+"
                  alt="Avatar Editar"
                  class="edit-avatar"
                />
                <input
                  type="file"
                  id="editAvatarInput"
                  accept="image/*"
                  style="display: none"
                />
                <button
                  type="button"
                  class="upload-btn"
                  onclick="document.getElementById('editAvatarInput').click()"
                >
                  📸 Cambiar Foto
                </button>
              </div>
            </div>
            <div class="form-group">
              <label>Nombre</label>
              <input type="text" id="editName" value="Usuario Ejemplo" />
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="editEmail" value="usuario@ejemplo.com" />
            </div>
            <div class="form-group">
              <label>Biografía</label>
              <textarea id="editBio" rows="3">
¡Hola! Soy un usuario activo en esta plataforma.</textarea
              >
            </div>
            <div class="form-group">
              <label>País</label>
              <select id="editCountry">
                <option value="es">España</option>
                <option value="mx">México</option>
                <option value="ar">Argentina</option>
                <option value="co">Colombia</option>
                <option value="pe">Perú</option>
              </select>
            </div>
            <button class="btn-primary" onclick="saveProfile()">
              💾 Guardar
            </button>
            <button
              class="btn-primary"
              onclick="cancelEdit()"
              style="background: #ff6b6b; margin-top: 10px"
            >
              ❌ Cancelar
            </button>
          </div>
        </div>

        <!-- Sección Central - Nivel y Logros -->
        <div class="profile-card">
          <div class="level-section">
            <h3>🏆 Tu Progreso</h3>
            <div class="level-info">
              <div class="level-number" id="userLevel">15</div>
              <div>Nivel Experto</div>
              <div class="progress-bar">
                <div
                  class="progress-fill"
                  id="progressFill"
                  style="width: 75%"
                ></div>
              </div>
              <small id="progressText"
                >750 / 1000 XP para el siguiente nivel</small
              >
            </div>

            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-number" id="totalXP">15,750</div>
                <div class="stat-label">XP Total</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="badgesEarned">8</div>
                <div class="stat-label">Insignias</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="daysActive">127</div>
                <div class="stat-label">Días Activo</div>
              </div>
            </div>

            <div class="achievements">
              <h4>🎯 Logros Recientes</h4>
              <div class="achievement-item">
                <strong>¡Racha de 7 días!</strong><br />
                <small>Has estado activo durante una semana seguida</small>
              </div>
              <div class="achievement-item">
                <strong>Explorador</strong><br />
                <small>Has visitado todas las secciones principales</small>
              </div>
            </div>
          </div>
        </div>

        <!-- Sección Insignias -->
        <div class="profile-card">
          <h3>🏅 Insignias</h3>
          <div class="badges-grid" id="badgesGrid">
            <!-- Las insignias se generarán dinámicamente -->
          </div>
          <button
            class="btn-primary"
            onclick="addRandomXP()"
            style="margin-top: 20px"
          >
            ⚡ Ganar XP (+100)
          </button>
        </div>
      </div>
    </div>

    <script src="miperfil.js"></script>
    <script src="app.js"></script>
    <script src="responder-logic.js"></script>
  </body>
</html>
